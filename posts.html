<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Posts</title>
  <link href="https://unpkg.com/tailwindcss@^2/dist/tailwind.min.css" rel="stylesheet">

</head>
<style>
  * {
    margin: 0;
    padding: 0;
  }

  h1 {
    margin-bottom: 20px;
  }
</style>

<body class="bg-gray-100">
  <div class="wrap w-full h-screen bg-white flex flex-col justify-center items-center">
    <h1 class="font-bold text-2xl">Post</h1>
    <!-- <div id="${posts.id}" class="postBody py-14 w-3/5 rounded-xl shadow-xl p-24 my-14 bg-gray-100"> -->
      <!-- ${posts.title}
    </div> -->
  </div>
  <script>
    const wrap = document.querySelector(".wrap");
    let userId;

    if (localStorage["userId"]) {
      userId = JSON.parse(localStorage["userId"]);
    }

    //   async function getData(){
    //       const response = await fetch(`https://jsonplaceholder.typicode.com/posts/?userId=${userId}`);
    //       const posts = await response.json()
    //       console.log(posts)
    //   }

    //   console.log(`https://jsonplaceholder.typicode.com/posts/?userId=${userId}`)

    //   getData()
    fetch(
      "https://jsonplaceholder.typicode.com/posts/?userId=" + userId
    )
      .then((res) => {
        return res.json();
      })
      .then((data) => {
        // console.log(data);
        data.forEach((posts) => {
          console.log(posts);
          wrap.insertAdjacentHTML(
            "beforeend",
            `
               <div id="${posts.id}" class="postBody flex justify-center items-center py-1 px-4 mx-auto w-3/5 rounded-xl shadow-xl bg-gray-100">
                     ${posts.title}
              </div>
            `
          );
        });
      })
      .catch((err) => console.log(err));
    document.addEventListener("click", (e) => {
      if (e.target.classList.contains("postBody")) {
        // console.log()
        localStorage.setItem("postId", e.target.id);
        location.pathname = '/12-20/pbody.html'
      }
    })
  </script>
</body>

</html>